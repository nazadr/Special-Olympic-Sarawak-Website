<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affiliates - Special Olympics Sarawak</title>

    <link rel="stylesheet" href="/src/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        /* Space reserved for existing header */
        .header-space {
            height: 80px;
            background-color: transparent;
        }
        
        /* Space reserved for existing footer */
        .footer-space {
            height: 150px;
            background-color: transparent;
        }
        
        /* Main Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            color: #333;
            overflow-y: auto;
        }
        
        .container {
            max-width: 2000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .title-section {
            text-align: center;
            padding: 80px 0;
            background: url('https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/8c98b565-bfe0-46a0-b7d9-318b15044a47.png') center/cover no-repeat;
            margin-bottom: 30px;
            position: relative;
            color: white;
            border-bottom: 3px solid #e30613;

        }
              
        .title-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(112, 112, 112, 0.7);
        }
        
        .title-section h1,
        .title-section p {
            position: relative;
            z-index: 1;
        }
        
        .title-section h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        
        .title-section h1:after {
            content: '';
            position: absolute;
            width: 80px;
            height: 4px;
            background-color: white;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .title-section p {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .affiliates-grid {
            display: grid;
            grid-template-columns: repeat(5, 250px);
            gap: 30px;
            padding: 20px 0;
            justify-content: center;
        }
        
        .affiliate-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            width: 250px;
        }
        
        .affiliate-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(227, 6, 19, 0.2);
        }
        
        .affiliate-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background-color: #e30613;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }
        
        .affiliate-card:hover:before {
            transform: scaleX(1);
        }
        
        .affiliate-image {
            height: 150px;
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .affiliate-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .affiliate-details {
            padding: 20px;
            text-align: center;
        }
        
        .affiliate-details h3 {
            color: #e30613;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        
        .affiliate-card:hover .affiliate-details h3 {
            color: #333;
        }
        
        .affiliate-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0;
        }
        
        .affiliate-link {
            display: inline-block;
            margin-top: 15px;
            padding: 8px 15px;
            background-color: #e30613;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .affiliate-link:hover {
            background-color: #c00511;
            transform: scale(1.05);
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .affiliates-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 20px;
            }
            
            .title-section {
                padding: 50px 20px;
            }
            
            .title-section h1 {
                font-size: 2rem;
            }
            
            .title-section p {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 850px) {
            .affiliates-grid {
                grid-template-columns: 1fr;
                max-width: 250px;
                margin: 0 auto;
            }
            
            .title-section h1 {
                font-size: 1.8rem;
            }
        }

        /* Map Section */
                .map-section {
            text-align: center;
            padding: 50px 20px;
            background-color: #f9f9f9;
            margin-top: 30px;
            border-top: 1px solid #eee;
        }

        .map-section h2 {
            color: #e30613;
            font-size: 2.5rem;
            margin-bottom: 40px;
            position: relative;
            display: inline-block;
        }

        .map-section h2:after {
            content: '';
            position: absolute;
            width: 60px;
            height: 3px;
            background-color: #e30613;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .map-container {
            position: relative;
            max-width: 1000px; /* Adjust as needed */
            margin: 0 auto;
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden; /* Ensure pinpoints don't overflow */
        }

        .sarawak-map {
            width: 100%;
            height: auto;
            display: block;
        }

        .pinpoint {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #0c08ea;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: white;
            box-shadow: 0 0 0 5px rgba(227, 6, 19, 0.3);
            transition: all 0.2s ease-in-out;
            z-index: 2; /* Ensure pinpoints are above the map */
        }

        .pinpoint:hover {
            transform: scale(1.2);
            box-shadow: 0 0 0 8px rgba(227, 6, 19, 0.5);
        }

        .pinpoint-info {
            position: absolute;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            /* Reduced padding */
            padding: 10px; /* Was 15px */
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 20;
            /* Reduced min-width */
            min-width: 200px; /* Was 250px */
            /* Optional: Add max-width if you want to cap its size */
            max-width: 220px; /* New: Added max-width */
            text-align: left;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            pointer-events: none;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
        }
        

        .pinpoint:hover .pinpoint-info {
            opacity: 1;
            visibility: visible;
            pointer-events: auto; /* Enable clicks when visible */
        }

        .pinpoint-info h4 {
            color: #e34806;
            margin-top: 0;
            /* Reduced margin-bottom */
            margin-bottom: 8px; /* Was 10px */
            /* Reduced font-size */
            font-size: 1.1rem; /* Was 1.2rem */
        }
        .pinpoint-info img {
            /* Reduced max-width */
            max-width: 80px; /* Was 80px */
            height: auto;
            /* Reduced margin-bottom */
            margin-bottom: 8px; /* Was 10px */
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .pinpoint-info p {
            color: #555;
            /* Reduced font-size */
            font-size: 0.85rem; /* Was 0.9rem */
            line-height: 1.4; /* Slightly reduced line-height for compactness */
            margin-bottom: 0;
        }

        /* Positioning for pinpoint info box (adjust as needed) 
        .pinpoint-info.top {
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
        }

        .pinpoint-info.bottom {
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
        }

        .pinpoint-info.left {
            right: calc(100% + 10px);
            top: 50%;
            transform: translateY(-50%);
        }

        .pinpoint-info.right {
            left: calc(100% + 10px);
            top: 50%;
            transform: translateY(-50%);
        }
*/

        /* Draggable pinpoint styles */
        .pinpoint.draggable {
            cursor: grab;
        }

        .pinpoint.draggable:active {
            cursor: grabbing;
        }
/*end of map selection style*/





    </style>
</head>
<body>

<!-- Navigation Bar (Loaded via JS) -->
    <div id="top-nav-container"></div>

    <!-- Social Media Bar (Loaded via JS) -->
    <div id="socmed-bar-container"></div>

    <!-- Chatbot (Loaded via JS) -->
    <div id="chatbot-container"></div>



    <!-- Space for existing header -->
    <div class="header-space"></div>
    
    <div class="container">
        <!-- Title Section with Description -->
        <div class="title-section">
            <h1>Sarawak Chapters</h1>
            <p>The Special Olympics Sarawak affiliates program brings together organizations and institutions that share our vision of creating inclusive opportunities for athletes with intellectual disabilities. These partnerships strengthen our ability to deliver transformative sports programs that foster acceptance, inclusion, and well-being throughout Sarawak.</p>
        </div>
        
        <!-- Affiliates Grid -->
        <div class="affiliates-grid">
            <!-- Placeholder card for adding affiliates -->
            <div class="affiliate-card">
                <div class="affiliate-image">
                    <img src="/assets/images/SO_Miri_chapter.png" alt="SO Miri Chapter" />
                </div>
                <div class="affiliate-details">
                    <h3>SO Miri Chapter</h3>
                    <p>Newest chapter; growing fast and set to host the next state games in 2027.</p>
                    <a href="#" class="affiliate-link">Learn More</a>
                </div>
            </div>
            
            <div class="affiliate-card">
                <div class="affiliate-image">
                    <img src="/assets/images/SO_Bintulu_chapter.png" alt="SO Bintulu Chapter" />
                </div>
                <div class="affiliate-details">
                    <h3>SO Bintulu Chapter</h3>
                    <p>Main chapter and 2025 state games champion; very active with many athletes and programs.</p>
                    <a href="#" class="affiliate-link">Learn More</a>
                </div>
            </div>
            
            <div class="affiliate-card">
                <div class="affiliate-image">
                    <img src="/assets/images/SO_Sarawak.png" alt="SO Sarawak" />
                </div>
                <div class="affiliate-details">
                    <h3>SO Sarawak</h3>
                    <p>One of the earliest chapters; strong participation and hosts regular activities.</p>
                    <a href="#" class="affiliate-link">Learn More</a>
                </div>
            </div>

            <div class="affiliate-card">
                <div class="affiliate-image">
                    <img src="/assets/images/SO_Sibu_Chapter.png" alt="SO Sibu Chapter" />
                </div>
                <div class="affiliate-details">
                    <h3>SO Sibu Chapter</h3>
                    <p>One of the earliest chapters; strong participation and hosts regular activities.</p>
                    <a href="#" class="affiliate-link">Learn More</a>
                </div>
            </div>

             <div class="affiliate-card">
                <div class="affiliate-image">
                    <img src="/assets/images/SO_Kuching_chapter.png" alt="SO Kuching Chapter" />
                </div>
                <div class="affiliate-details">
                    <h3>SO Kuching Chapter</h3>
                    <p>One of the earliest chapters; strong participation and hosts regular activities.</p>
                    <a href="#" class="affiliate-link">Learn More</a>
                </div>
            </div>



        </div>
    </div>

    <div class="map-section">
        <h2>Our Chapters Across Sarawak</h2>
        <div class="map-container">
            <img src="/assets/images/sarawak_map_undefined3.png" alt="Sarawak Map" class="sarawak-map">
            <!-- Pinpoints will be added here by JavaScript -->
        </div>
    </div>
    
    <!-- Space for existing footer -->
    <div class="footer-space"></div>




    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mapContainer = document.querySelector('.map-container');
            const sarawakMap = document.querySelector('.sarawak-map');

            // Pinpoint data with initial positions (adjust these values)
            const pinpointsData = [
                {
                    id: 'miri',
                    name: 'SO Miri Chapter',
                    logo: '/assets/images/SO_Miri_chapter.png',
                    description: 'Newest chapter; growing fast and set to host the next state games in 2027.',
                    top: '37%', // Initial top position (relative to map container)
                    left: '67%'  // Initial left position (relative to map container)
                },
                {
                    id: 'bintulu',
                    name: 'SO Bintulu Chapter',
                    logo: '/assets/images/SO_Bintulu_chapter.png',
                    description: 'Main chapter and 2025 state games champion; very active with many athletes and programs.',
                    top: '55%',
                    left: '56%'
                },
                {
                    id: 'sarawak-sibu',
                    name: 'SO Sarawak/Sibu Chapter',
                    logo: '/assets/images/SO_Sibu_Chapter.png', // Using Sibu logo as an example
                    description: 'One of the earliest chapters; strong participation and hosts regular activities.',
                    top: '68%',
                    left: '39%'
                },
                {
                    id: 'kuching',
                    name: 'SO Kuching Chapter',
                    logo: '/assets/images/SO_Kuching_chapter.png',
                    description: 'One of the earliest chapters; strong participation and hosts regular activities.',
                    top: '81%',
                    left: '19%'
                },
                {
                    id: 'samarahan',
                    name: 'SO Samarahan Chapter (Upcoming)',
                    logo: '/assets/images/SO_Sarawak.png', // Placeholder logo
                    description: 'An upcoming chapter, poised to expand our reach and impact in the Samarahan region.',
                    top: '85%',
                    left: '22%'
                }
            ];

            function createPinpoint(data) {
                const pinpoint = document.createElement('div');
                pinpoint.classList.add('pinpoint');
                pinpoint.classList.add('draggable'); // Make it draggable
                pinpoint.id = `pinpoint-${data.id}`;
                pinpoint.style.top = data.top;
                pinpoint.style.left = data.left;

                const infoBox = document.createElement('div');
                infoBox.classList.add('pinpoint-info');
                infoBox.classList.add('bottom'); // Default position, can be adjusted dynamically

                infoBox.innerHTML = `
                    <h4>${data.name}</h4>
                    <img src="${data.logo}" alt="${data.name} Logo">
                    <p>${data.description}</p>
                `;

                pinpoint.appendChild(infoBox);
                mapContainer.appendChild(pinpoint);

                // Make pinpoints draggable
                let isDragging = false;
                let offsetX, offsetY;

                pinpoint.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    pinpoint.style.zIndex = 21; // Bring to front when dragging
                    offsetX = e.clientX - pinpoint.getBoundingClientRect().left;
                    offsetY = e.clientY - pinpoint.getBoundingClientRect().top;
                    pinpoint.style.cursor = 'grabbing';
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;

                    const mapRect = mapContainer.getBoundingClientRect();
                    let newLeft = e.clientX - mapRect.left - offsetX;
                    let newTop = e.clientY - mapRect.top - offsetY;

                    // Constrain movement within map container
                    newLeft = Math.max(0, Math.min(newLeft, mapRect.width - pinpoint.offsetWidth));
                    newTop = Math.max(0, Math.min(newTop, mapRect.height - pinpoint.offsetHeight));

                    pinpoint.style.left = `${(newLeft / mapRect.width) * 100}%`;
                    pinpoint.style.top = `${(newTop / mapRect.height) * 100}%`;
                });

                document.addEventListener('mouseup', () => {
                    if (isDragging) {
                        isDragging = false;
                        pinpoint.style.zIndex = 10; // Reset z-index
                        pinpoint.style.cursor = 'grab';
                        // Log new position for saving (optional)
                        console.log(`${data.name} new position: top: ${pinpoint.style.top}, left: ${pinpoint.style.left}`);
                    }
                });
            }

            // Create all pinpoints
            pinpointsData.forEach(data => createPinpoint(data));

        /*
            // Adjust info box position if it goes off-screen (optional, more complex)
            // This is a basic example and might need more sophisticated logic for all edge cases
            mapContainer.addEventListener('mouseover', (e) => {
                if (e.target.classList.contains('pinpoint')) {
                    const infoBox = e.target.querySelector('.pinpoint-info');
                    const pinpointRect = e.target.getBoundingClientRect();
                    const infoBoxRect = infoBox.getBoundingClientRect();
                    const mapRect = mapContainer.getBoundingClientRect();

                    // Check if info box overflows top
                    if (pinpointRect.top - infoBoxRect.height < mapRect.top) {
                        infoBox.classList.remove('top');
                        infoBox.classList.add('bottom');
                    }
                    // Check if info box overflows bottom
                    else if (pinpointRect.bottom + infoBoxRect.height > mapRect.bottom) {
                        infoBox.classList.remove('bottom');
                        infoBox.classList.add('top');
                    }
                    // Check if info box overflows left
                    else if (pinpointRect.left - infoBoxRect.width < mapRect.left) {
                        infoBox.classList.remove('left');
                        infoBox.classList.add('right');
                    }
                    // Check if info box overflows right
                    else if (pinpointRect.right + infoBoxRect.width > mapRect.right) {
                        infoBox.classList.remove('right');
                        infoBox.classList.add('left');
                    }
                }
            }, true); // Use capture phase to catch events on child elements
*/

        });
    </script>

 <!-- Section Divider -->
    <div class="section-divider"></div>
     <!-- Bottom Nav (Loaded via JS) -->
    <div id="bottom-nav-container"></div>
    <!-- Site Footer (Loaded via JS) -->
    <div id="site-footer-container"></div>
    <script src="/scripts/script.js"></script>
    <script>
      // Function to load HTML into a container
      function loadHTML(containerId, filePath) {
        fetch(filePath)
          .then(response => response.text())
          .then(data => {
            document.getElementById(containerId).innerHTML = data;
          });
      }
      // Load shared components
      loadHTML('top-nav-container', '/src/components/top-nav.html');
      loadHTML('socmed-bar-container', '/src/components/socmed-bar.html');
      loadHTML('bottom-nav-container', '/src/components/bottom-nav.html');
      loadHTML('site-footer-container', '/src/components/site-footer.html');
      loadHTML('chatbot-container', '/src/components/chatbot.html');

      // Re-attach dropup menu listeners after bottom nav loads
      fetch('/src/components/bottom-nav.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('bottom-nav-container').innerHTML = data;
          if (typeof attachDropupMenuListeners === 'function') {
            attachDropupMenuListeners();
          }
        });
    </script>

</body>
</html>
